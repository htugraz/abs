# $Id: PKGBUILD 238057 2015-04-27 08:10:17Z arojas $
# Maintainer: Antonio Rojas <arojas@archlinux.org>

pkgname=libqgit2
pkgver=0.22.1
pkgrel=1
pkgdesc="A Qt wrapper library around the libgit2 git access library"
arch=(i686 x86_64)
url='https://projects.kde.org/projects/playground/libs/libqgit2'
license=(LGPL)
depends=(qt4 libgit2)
makedepends=(cmake automoc4)
source=("$pkgname-$pkgver.tar.gz::http://quickgit.kde.org/?p=libqgit2.git&a=snapshot&h=ae2d198606b722d378c42d3d1a607be159cb3a8b&fmt=tgz")
sha1sums=('40d5def1b2c6b64a017b09af0d372b2b4b7e3012')

prepare() {
  mkdir build
}

build() {
  cd build
  cmake ../$pkgname \
	-DCMAKE_BUILD_TYPE=Release \
	-DCMAKE_INSTALL_PREFIX=/usr
  make
}

package() {
  cd build
  make DESTDIR="$pkgdir" install
}
