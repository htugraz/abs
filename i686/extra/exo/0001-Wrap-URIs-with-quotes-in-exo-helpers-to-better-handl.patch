From 8cd3233f1d2312670444a202f79d55b98286aa4f Mon Sep 17 00:00:00 2001
From: Sean Davis <smd.seandavis@gmail.com>
Date: Mon, 16 Feb 2015 17:04:07 -0500
Subject: [PATCH] Wrap URIs with quotes in exo-helpers to better handle
 filenames with spaces (bug 10731)

---
 exo-helper/helpers/aterm.desktop.in.in                      | 2 +-
 exo-helper/helpers/debian-x-terminal-emulator.desktop.in.in | 2 +-
 exo-helper/helpers/firefox.desktop.in.in                    | 2 +-
 exo-helper/helpers/gnome-terminal.desktop.in.in             | 2 +-
 exo-helper/helpers/icecat.desktop.in.in                     | 2 +-
 exo-helper/helpers/iceweasel.desktop.in.in                  | 2 +-
 exo-helper/helpers/links.desktop.in.in                      | 2 +-
 exo-helper/helpers/lynx.desktop.in.in                       | 2 +-
 exo-helper/helpers/mozilla-browser.desktop.in.in            | 2 +-
 exo-helper/helpers/netscape-navigator.desktop.in.in         | 2 +-
 exo-helper/helpers/nxterm.desktop.in.in                     | 2 +-
 exo-helper/helpers/sakura.desktop.in.in                     | 2 +-
 exo-helper/helpers/urxvt.desktop.in.in                      | 2 +-
 exo-helper/helpers/w3m.desktop.in.in                        | 2 +-
 exo-helper/helpers/xfce4-terminal.desktop.in.in             | 2 +-
 exo-helper/helpers/xterm.desktop.in.in                      | 2 +-
 16 files changed, 16 insertions(+), 16 deletions(-)

diff --git a/exo-helper/helpers/aterm.desktop.in.in b/exo-helper/helpers/aterm.desktop.in.in
index bbe06fc..0eeb5ab 100644
--- a/exo-helper/helpers/aterm.desktop.in.in
+++ b/exo-helper/helpers/aterm.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=aterm;
 X-XFCE-Category=TerminalEmulator
 X-XFCE-Commands=%B;
-X-XFCE-CommandsWithParameter=%B -e %s;
+X-XFCE-CommandsWithParameter=%B -e "%s";
diff --git a/exo-helper/helpers/debian-x-terminal-emulator.desktop.in.in b/exo-helper/helpers/debian-x-terminal-emulator.desktop.in.in
index b4de7ee..a4d2cd1 100644
--- a/exo-helper/helpers/debian-x-terminal-emulator.desktop.in.in
+++ b/exo-helper/helpers/debian-x-terminal-emulator.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=x-terminal-emulator;
 X-XFCE-Category=TerminalEmulator
 X-XFCE-Commands=%B;
-X-XFCE-CommandsWithParameter=%B -e %s;
+X-XFCE-CommandsWithParameter=%B -e "%s";
diff --git a/exo-helper/helpers/firefox.desktop.in.in b/exo-helper/helpers/firefox.desktop.in.in
index e89684b..9ed8104 100644
--- a/exo-helper/helpers/firefox.desktop.in.in
+++ b/exo-helper/helpers/firefox.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=firefox;firefox-gtk2;firefox-gtk;mozilla-firefox;
 X-XFCE-Category=WebBrowser
 X-XFCE-Commands=%B -remote "openURL(about:blank,new-window)";%B;
-X-XFCE-CommandsWithParameter=%B -remote "openURL(%s)";%B %s;
+X-XFCE-CommandsWithParameter=%B -remote "openURL(%s)";%B "%s";
diff --git a/exo-helper/helpers/gnome-terminal.desktop.in.in b/exo-helper/helpers/gnome-terminal.desktop.in.in
index bb31360..f6af417 100644
--- a/exo-helper/helpers/gnome-terminal.desktop.in.in
+++ b/exo-helper/helpers/gnome-terminal.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=true
 X-XFCE-Binaries=gnome-terminal;gnometerminal;
 X-XFCE-Category=TerminalEmulator
 X-XFCE-Commands=%B;
-X-XFCE-CommandsWithParameter=%B -x %s;
+X-XFCE-CommandsWithParameter=%B -x "%s";
diff --git a/exo-helper/helpers/icecat.desktop.in.in b/exo-helper/helpers/icecat.desktop.in.in
index fb4ea37..cb635f5 100644
--- a/exo-helper/helpers/icecat.desktop.in.in
+++ b/exo-helper/helpers/icecat.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=icecat;icecat-gtk2;icecat-gtk;
 X-XFCE-Category=WebBrowser
 X-XFCE-Commands=%B -remote "openURL(about:blank,new-window)";%B;
-X-XFCE-CommandsWithParameter=%B -remote "openURL(%s)";%B %s;
+X-XFCE-CommandsWithParameter=%B -remote "openURL(%s)";%B "%s";
diff --git a/exo-helper/helpers/iceweasel.desktop.in.in b/exo-helper/helpers/iceweasel.desktop.in.in
index bb3d5fe..6fb6be8 100644
--- a/exo-helper/helpers/iceweasel.desktop.in.in
+++ b/exo-helper/helpers/iceweasel.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=iceweasel;iceweasel-gtk2;iceweasel-gtk;
 X-XFCE-Category=WebBrowser
 X-XFCE-Commands=%B -remote "openURL(about:blank,new-window)";%B;
-X-XFCE-CommandsWithParameter=%B -remote "openURL(%s)";%B %s;
+X-XFCE-CommandsWithParameter=%B -remote "openURL(%s)";%B "%s";
diff --git a/exo-helper/helpers/links.desktop.in.in b/exo-helper/helpers/links.desktop.in.in
index 66dd4c7..35b41a8 100644
--- a/exo-helper/helpers/links.desktop.in.in
+++ b/exo-helper/helpers/links.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=links;links-current;
 X-XFCE-Category=WebBrowser
 X-XFCE-Commands=exo-open --launch TerminalEmulator %B;
-X-XFCE-CommandsWithParameter=exo-open --launch TerminalEmulator %B %s;
+X-XFCE-CommandsWithParameter=exo-open --launch TerminalEmulator %B "%s";
diff --git a/exo-helper/helpers/lynx.desktop.in.in b/exo-helper/helpers/lynx.desktop.in.in
index 759e67e..ffca6f5 100644
--- a/exo-helper/helpers/lynx.desktop.in.in
+++ b/exo-helper/helpers/lynx.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=lynx;lynx-current;
 X-XFCE-Category=WebBrowser
 X-XFCE-Commands=exo-open --launch TerminalEmulator %B;
-X-XFCE-CommandsWithParameter=exo-open --launch TerminalEmulator %B %s;
+X-XFCE-CommandsWithParameter=exo-open --launch TerminalEmulator %B "%s";
diff --git a/exo-helper/helpers/mozilla-browser.desktop.in.in b/exo-helper/helpers/mozilla-browser.desktop.in.in
index 76d3e54..7f0fb11 100644
--- a/exo-helper/helpers/mozilla-browser.desktop.in.in
+++ b/exo-helper/helpers/mozilla-browser.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=mozilla;mozilla-gtk2;mozilla-gtk;
 X-XFCE-Category=WebBrowser
 X-XFCE-Commands=%B -remote "openURL(about:blank,new-window)";%B;
-X-XFCE-CommandsWithParameter=%B -remote "openURL(%s,new-window)";%B %s;
+X-XFCE-CommandsWithParameter=%B -remote "openURL(%s,new-window)";%B "%s";
diff --git a/exo-helper/helpers/netscape-navigator.desktop.in.in b/exo-helper/helpers/netscape-navigator.desktop.in.in
index c874459..0dde8e6 100644
--- a/exo-helper/helpers/netscape-navigator.desktop.in.in
+++ b/exo-helper/helpers/netscape-navigator.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=netscape;
 X-XFCE-Category=WebBrowser
 X-XFCE-Commands=%B -remote "openURL(about:blank,new-window)";%B;
-X-XFCE-CommandsWithParameter=%B -remote "openURL(%s,new-window)";%B %s;
+X-XFCE-CommandsWithParameter=%B -remote "openURL(%s,new-window)";%B "%s";
diff --git a/exo-helper/helpers/nxterm.desktop.in.in b/exo-helper/helpers/nxterm.desktop.in.in
index 9dbd157..b095f5c 100644
--- a/exo-helper/helpers/nxterm.desktop.in.in
+++ b/exo-helper/helpers/nxterm.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=nxterm;
 X-XFCE-Category=TerminalEmulator
 X-XFCE-Commands=%B;
-X-XFCE-CommandsWithParameter=%B -e %s;
+X-XFCE-CommandsWithParameter=%B -e "%s";
diff --git a/exo-helper/helpers/sakura.desktop.in.in b/exo-helper/helpers/sakura.desktop.in.in
index af8b1d9..dd3ca0c 100644
--- a/exo-helper/helpers/sakura.desktop.in.in
+++ b/exo-helper/helpers/sakura.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=sakura;
 X-XFCE-Category=TerminalEmulator
 X-XFCE-Commands=%B;
-X-XFCE-CommandsWithParameter=%B -x %s;
+X-XFCE-CommandsWithParameter=%B -x "%s";
diff --git a/exo-helper/helpers/urxvt.desktop.in.in b/exo-helper/helpers/urxvt.desktop.in.in
index d442e42..b90217a 100644
--- a/exo-helper/helpers/urxvt.desktop.in.in
+++ b/exo-helper/helpers/urxvt.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=urxvt;
 X-XFCE-Category=TerminalEmulator
 X-XFCE-Commands=%B;
-X-XFCE-CommandsWithParameter=%B -e %s;
+X-XFCE-CommandsWithParameter=%B -e "%s";
diff --git a/exo-helper/helpers/w3m.desktop.in.in b/exo-helper/helpers/w3m.desktop.in.in
index cc5af29..bccaffe 100644
--- a/exo-helper/helpers/w3m.desktop.in.in
+++ b/exo-helper/helpers/w3m.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=w3m;
 X-XFCE-Category=WebBrowser
 X-XFCE-Commands=exo-open --launch TerminalEmulator %B;
-X-XFCE-CommandsWithParameter=exo-open --launch TerminalEmulator %B %s;
+X-XFCE-CommandsWithParameter=exo-open --launch TerminalEmulator %B "%s";
diff --git a/exo-helper/helpers/xfce4-terminal.desktop.in.in b/exo-helper/helpers/xfce4-terminal.desktop.in.in
index 1b10ee0..a9444cd 100644
--- a/exo-helper/helpers/xfce4-terminal.desktop.in.in
+++ b/exo-helper/helpers/xfce4-terminal.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=true
 X-XFCE-Binaries=xfce4-terminal;Terminal;xterminal;
 X-XFCE-Category=TerminalEmulator
 X-XFCE-Commands=%B;
-X-XFCE-CommandsWithParameter=%B -x %s;
+X-XFCE-CommandsWithParameter=%B -x "%s";
diff --git a/exo-helper/helpers/xterm.desktop.in.in b/exo-helper/helpers/xterm.desktop.in.in
index b2bc89c..3697935 100644
--- a/exo-helper/helpers/xterm.desktop.in.in
+++ b/exo-helper/helpers/xterm.desktop.in.in
@@ -7,4 +7,4 @@ StartupNotify=false
 X-XFCE-Binaries=xterm;
 X-XFCE-Category=TerminalEmulator
 X-XFCE-Commands=%B;
-X-XFCE-CommandsWithParameter=%B -e %s;
+X-XFCE-CommandsWithParameter=%B -e "%s";
-- 
2.3.1

