From: Eike Hein <hein@kde.org>
Date: Wed, 01 Apr 2015 13:49:30 +0000
Subject: Specify explicit fallbacks.
X-Git-Url: http://quickgit.kde.org/?p=plasma-desktop.git&a=commitdiff&h=aa08cd42a470af7a10f34cc9dbe7aefd0057bb35
---
Specify explicit fallbacks.
---


--- a/applets/kicker/plugin/appsmodel.cpp
+++ b/applets/kicker/plugin/appsmodel.cpp
@@ -50,7 +50,7 @@
     bool flat, int appNameFormat)
 {
     m_name = group->caption();
-    m_icon = QIcon::fromTheme(group->icon());
+    m_icon = QIcon::fromTheme(group->icon(), QIcon::fromTheme("unknown"));
     AppsModel* model = new AppsModel(group->entryPath(), flat, parentModel);
     model->setAppletInterface(parentModel->appletInterface());
     model->setAppNameFormat(appNameFormat);
@@ -64,7 +64,7 @@
 : m_service(service)
 {
     m_name = name;
-    m_icon = QIcon::fromTheme(service->icon());
+    m_icon = QIcon::fromTheme(service->icon(), QIcon::fromTheme("unknown"));
     m_service = service;
 }
 

--- a/applets/kicker/plugin/recentdocsmodel.cpp
+++ b/applets/kicker/plugin/recentdocsmodel.cpp
@@ -34,7 +34,7 @@
     const QString &url, const QString &desktopPath)
 {
     m_name = name;
-    m_icon = QIcon::fromTheme(icon);
+    m_icon = QIcon::fromTheme(icon, QIcon::fromTheme("unknown"));
     m_url = url;
     m_desktopPath = desktopPath;
 }

--- a/applets/kicker/plugin/rootmodel.cpp
+++ b/applets/kicker/plugin/rootmodel.cpp
@@ -29,7 +29,7 @@
     AbstractModel *model, AbstractModel *parentModel)
 {
     m_name = name;
-    m_icon = QIcon::fromTheme(icon);
+    m_icon = QIcon::fromTheme(icon, QIcon::fromTheme("unknown"));
     m_model = model;
     QObject::connect(parentModel, SIGNAL(refreshing()), m_model, SLOT(deleteLater()));
 }

--- a/applets/kicker/plugin/systemmodel.cpp
+++ b/applets/kicker/plugin/systemmodel.cpp
@@ -36,7 +36,7 @@
 {
     m_action = action;
     m_name = name;
-    m_icon = QIcon::fromTheme(icon);
+    m_icon = QIcon::fromTheme(icon, QIcon::fromTheme("unknown"));
 }
 
 SystemModel::SystemModel(QObject *parent) : AbstractModel(parent)

