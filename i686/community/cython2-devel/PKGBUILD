# $Id: PKGBUILD 134869 2015-06-05 17:33:35Z arojas $
# Contributor: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Igor Scabini <furester @ gmail.com>

pkgname=cython2-devel
_commit=e05dc49649adb8e95fcb5db650fe06f557304275
pkgver=0.23_git20150605
pkgrel=1
pkgdesc="C-Extensions for Python"
arch=(i686 x86_64)
url="http://www.cython.org"
license=('APACHE')
depends=('python2-setuptools')
source=("https://github.com/cython/cython/archive/$_commit.zip")
md5sums=('bca14d218d49aa0e55d92d09f7b4e3d7')

prepare() {
  cd cython-$_commit
  sed -e 's|env python|env python2|g' -i cython.py -i Cython/*/*.py
}

package() {
  cd cython-$_commit
  python2 setup.py install --root="$pkgdir"

  mv "$pkgdir"/usr/bin/cygdb "$pkgdir"/usr/bin/cygdb2
  mv "$pkgdir"/usr/bin/cython "$pkgdir"/usr/bin/cython2
  mv "$pkgdir"/usr/bin/cythonize "$pkgdir"/usr/bin/cythonize2
}
