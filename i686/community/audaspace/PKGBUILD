# Maintainer: Sven-Hendrik Haase <sh@lutzhaase.com>
pkgname=audaspace
pkgver=1.0rc1
_pkgver=1.0-rc1
pkgrel=1
pkgdesc="A high level and feature rich audio library written in C++ with language bindings"
arch=("x86_64" "i686")
url="http://audaspace.github.io/"
license=('APACHE')
depends=('ffmpeg' 'openal' 'sdl2' 'libsndfile' 'jack')
makedepends=('cmake' 'python' 'python-setuptools')
optdepends=()
source=("https://github.com/audaspace/audaspace/archive/${_pkgver}.tar.gz")
md5sums=('efd48bbc0b75c3c2326b6d9b83077fd4')

build() {
	cd "${pkgname}-${_pkgver}"

    mkdir build
    cd build

	cmake .. \
        -DCMAKE_INSTALL_PREFIX=/usr \
        -DWITH_PYTHON=1 \
        -DWITH_JACK=1 \
        -DDEFAULT_PLUGIN_PATH=/usr/share/audaspace/plugins

	make
}

package() {
	cd "${pkgname}-${_pkgver}"

    cd build

	make DESTDIR="${pkgdir}/" install
}
