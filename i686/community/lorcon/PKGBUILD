# $Id: PKGBUILD 99899 2013-10-31 02:21:39Z allan $
# Maintainer: Alexander RÃ¸dseth <rodseth@gmail.com>
# Contributor: Brad Fanella <bradfanella@archlinux.us>
# Contributor: fnord0 [fnord0 <AT> riseup <DOT> net]
# Contributor: dninja <dninja@gmail.com>

pkgname=lorcon
pkgver=224
pkgrel=2
pkgdesc="Loss Of Radio CONnectivity: A generic library for injecting 802.11 frames"
url='http://802.11ninja.net/'
license=('GPL')
arch=('x86_64' 'i686')
depends=('libpcap')
makedepends=('subversion')
replaces=('lorcon-old-svn')
_svntrunk="http://802.11ninja.net/svn/lorcon/trunk"
_svnrev=$pkgver

build() {
  cd "$srcdir"

  if [ -d "$_svnmod/.svn" ]; then
    (cd "$_svnmod" && svn up -r "$_svnrev")
  else
    svn co "$_svntrunk/$_svnmod" --config-dir ./ -r \
      "$_svnrev" "$_svnmod"
  fi
  msg "SVN checkout done or server timeout"
  cd "$_svnmod"
 
  ./configure --prefix=/usr --mandir=/usr/share/man
  make
}

package() {
  cd "$_svnmod"

  make DESTDIR="$pkgdir" install
}

# vim:set ts=2 sw=2 et: 
