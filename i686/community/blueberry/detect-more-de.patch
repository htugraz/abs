From 96923856d28fab95151956fb6966ba3487e302ac Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Gy=C3=B6rgy=20Ball=C3=B3?= <ballogyor@gmail.com>
Date: Sat, 4 Jul 2015 11:39:12 +0200
Subject: [PATCH] Detect more DEs via XDG_CURRENT_DESKTOP

And add support for LXDE.
---
 usr/lib/blueberry/blueberry.py | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/usr/lib/blueberry/blueberry.py b/usr/lib/blueberry/blueberry.py
index f469f3b..722581f 100755
--- a/usr/lib/blueberry/blueberry.py
+++ b/usr/lib/blueberry/blueberry.py
@@ -30,12 +30,14 @@
         CONF_TOOLS["sound"] = "pavucontrol"
     else:
         CONF_TOOLS["sound"] = "xfce4-mixer"
-elif "Muffin" in wm_info:
+elif "Muffin" in wm_info or xdg_current_desktop == "X-Cinnamon":
     CONF_TOOLS = {"sound": "cinnamon-settings sound", "keyboard": "cinnamon-settings keyboard", "mouse": "cinnamon-settings mouse"}
-elif "Mutter" in wm_info:
+elif "Mutter" in wm_info or "GNOME" in xdg_current_desktop:
     CONF_TOOLS = {"sound": "gnome-control-center sound", "keyboard": "gnome-control-center keyboard", "mouse": "gnome-control-center mouse"}
 elif "Unity" in wm_info or xdg_current_desktop == "Unity":
     CONF_TOOLS = {"sound": "unity-control-center sound", "keyboard": "unity-control-center keyboard", "mouse": "unity-control-center mouse"}
+elif xdg_current_desktop == "LXDE":
+    CONF_TOOLS = {"sound": "pavucontrol", "keyboard": "lxinput", "mouse": "lxinput"}
 else:
     print "Warning: DE could not be detected!"
     CONF_TOOLS = {}
