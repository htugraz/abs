# $Id: PKGBUILD 102744 2013-12-18 20:42:11Z bpiotrowski $
# Maintainer:  Bart≈Çomiej Piotrowski <spam@bpiotrowski.pl>
# Contributor: Francois Boulogne <fboulogne at april dot org>

pkgname=glances
pkgver=1.7.3
pkgrel=1
pkgdesc='CLI curses-based monitoring tool'
arch=('any')
url='https://github.com/nicolargo/glances'
license=('LGPL')
depends=('python2' 'python2-psutil' 'python2-setuptools')
optdepends=('python2-jinja: HTML export'
            'python2-sensors: temperature sensors support')
source=($url/archive/v$pkgver.tar.gz)
sha256sums=('03a5c8193fd3c91b8249c2501bc612008fa81861c14f82464a10b45d08c4ca4f')

package() {
  cd $pkgname-$pkgver
  sed 's|^#!/usr/bin/env python$|&2|' -i glances/glances.py
  python2 setup.py install --prefix=/usr --root=$pkgdir
}
