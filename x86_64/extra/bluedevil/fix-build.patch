From 5720d2054d2e5e087811093378bf6096e714f3dc Mon Sep 17 00:00:00 2001
From: Andrea Scarpino <scarpino@kde.org>
Date: Wed, 27 Nov 2013 16:19:32 +0100
Subject: [PATCH] Fix build

---
 src/kio/obexftp/daemon/CMakeLists.txt | 2 +-
 src/kio/obexftp/obexdtypes.h          | 7 -------
 2 files changed, 1 insertion(+), 8 deletions(-)

diff --git a/src/kio/obexftp/daemon/CMakeLists.txt b/src/kio/obexftp/daemon/CMakeLists.txt
index e45f64f..4fcf880 100644
--- a/src/kio/obexftp/daemon/CMakeLists.txt
+++ b/src/kio/obexftp/daemon/CMakeLists.txt
@@ -7,7 +7,7 @@ set(SENDER_PLUGIN_PATH ${CMAKE_SOURCE_DIR}/src/actionplugins/sendfile/helper/)
 qt4_add_dbus_interface(kded_obexftp_SRCS ${SENDER_PLUGIN_PATH}org.bluez.obex.Client1.xml obexd_client)
 
 set(OBJECT_MANAGER_FILE org.freedesktop.DBus.ObjectManager.xml)
-set_source_files_properties(${OBJECT_MANAGER_FILE} PROPERTIES INCLUDE "../obexdtypes.h")
+set_source_files_properties(${OBJECT_MANAGER_FILE} PROPERTIES INCLUDE "${LibBlueDevil_INCLUDE_DIR}/bluedevil/bluedevildbustypes.h")
 qt4_add_dbus_interface(kded_obexftp_SRCS org.freedesktop.DBus.ObjectManager.xml dbus_object_manager)
 
 kde4_add_plugin(kded_obexftpdaemon
diff --git a/src/kio/obexftp/obexdtypes.h b/src/kio/obexftp/obexdtypes.h
index f3496f1..2e957a0 100644
--- a/src/kio/obexftp/obexdtypes.h
+++ b/src/kio/obexftp/obexdtypes.h
@@ -21,15 +21,8 @@
 
 #include <QtCore/QList>
 #include <QtCore/QVariantMap>
-#include <QVariantMap>
-#include <QDBusObjectPath>
 
 typedef QList<QVariantMap> QVariantMapList;
 Q_DECLARE_METATYPE(QVariantMapList);
 
-typedef QMap<QString,QVariantMap> QVariantMapMap;
-Q_DECLARE_METATYPE(QVariantMapMap)
-
-typedef QMap<QDBusObjectPath, QVariantMapMap> DBusManagerStruct;
-Q_DECLARE_METATYPE(DBusManagerStruct)
 #endif //OBEXD_TYPES_H
-- 
1.8.4.2

