# $Id: PKGBUILD 217727 2014-07-22 08:59:27Z foutrelis $
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=31.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('17bde4d1d364775b2ee1703fa2feb229'
         '8d8b275b316f25be498f2c14abd2ec68'
         '1763b371dd00f902af7299ea7e9fc574'
         '3ca9f2b4c3fbe27dc7c1d8f4c0ec5d97'
         '96db7a319aa8658e0a9a08b11f9dcfe0'
         'd7644420a4b26e9d64a44d22e22641d0'
         '15738bb05d4b9b096268a8d3089149d5'
         '3aa388c8f4fcdc930c9f75f51112dbae'
         '61de52f1fbf717b575d091b60fc07ff7'
         '81748e80ca61455060d5db8b89aa314f'
         '6b0cf80a15ef445cf0e328ab5c9038ca'
         'b636938b6752939e0f36830867961ec1'
         'd54841c678657d9725ab6329ddbde2ea'
         '609b2485ece9f8d4b9d7144ace149c53'
         'db0585d3f4ec60c7f5f146d22d6842e3'
         'cff6f7cdf386911c3f3f797ecdf7246e'
         'e8b1b67732297206e5074293e06c6860'
         '2ad5b23230fdce0332795e3eda935ee5'
         '648c8aa11d9943289a18198ab1cb393e'
         '8f74a8f9ce0d65cfa2671bade57f111b'
         'a974f9b12eec55335dc6f8c3f77cbce3'
         '2ee93708f204fe5a99edc5bf7c05d4bd'
         '6804e24eaf9dcba87b077c67fc4794f0'
         'e498c260deeec23119d1ff13ade225d3'
         '575415c3363f2396a0adf83fd7f8e8a7'
         '735edcdb58f8ee0b18b3c59df2a41784'
         '2ec4f96840776c27abd1a81fa172d246'
         '443455edfc731e86f2dc0a51d1234642'
         '7b91898f93bb12311c15351659c4ebd1'
         '5c9322ac54bb92bc692ebac08423fd0e'
         '4a89384448d027d72ecb2909e23ad683'
         '87aa196d8585285a149ca03b12b9676b'
         '53be975b7c418860d40c7c92309974af'
         'c4208b228abb90640d2c49684e8574e0'
         'f0313dd1abf8fd0a1d06bc0a6a6bf28a'
         '7a85f4982a8d3940b1d01698fd23dce2'
         '26b1754fc14cee9cb0e67b0b5bb280d5'
         '32dfa38695fc20a9ecaeaf35bf5436eb'
         'b6e4e2f4db2868996bbed4f2cac432b1'
         'bf9e4757cd6a56ac1576a5d160471f97'
         '7b0127c1e4f6d038505966871db51392'
         '61907fcb7ce920a43e6f1d0b370bbb07'
         '45a57af59c17ae89c9ac02c05cf1f8ec'
         '1f5ee88343c85d94340b4f06d67f8b79'
         '4f45b3388a36d86044f199d87fe67070'
         '939042b9677b0b0b3623374838563fb8'
         '7c6743e0efb65a7ce5142413f27fb2b3'
         'ec62353e65c1cabc94327eea096cd350'
         '28695dbb530fbf4e0ad5052bbb1ee76d'
         'ea0fdc5cb2bf6e9ebbf61b1558e3d3cf'
         'cb0ab3f7a7addf9011ddc4e2849d8793'
         '16c19c21def75316a7e6f279bac1841e'
         '08064811d0a66e4707cff28c26d55ab8'
         'a1a03570fe349f1a454fe8388424c15c'
         'b8f8fa6cce5d3879d3a448b4a42ab12e')
