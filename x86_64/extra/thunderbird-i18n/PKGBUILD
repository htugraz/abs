# $Id: PKGBUILD 240578 2015-06-11 13:31:31Z foutrelis $
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=38.0.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('eef0fa83684cfd7b673bd97fdbe6311b'
         'b6700c4025c944a1fbf83ddd6a66f6ce'
         'c4b0e0aa6af6e046172a1a59349be873'
         '2a41447983c317de272cb307d0d9660a'
         'f527903e210eafdbf1958df9014089db'
         '5eb39bd10e4ee7b74514a32df3768d98'
         'a7eb83cd21c33afc429c0764c91f2936'
         'a6458785a91593a6d049619de9022b11'
         '33f5d401c35c789613b0a5dd648d081a'
         '5fa7ca8d01a1548edc4e5320ca1afcd1'
         '304b92f5c31a988dfebf60b568a4b15a'
         '803d5cb08d5443cc179c2c9b23d8cf2d'
         '05ca4be00597d804f05f60d1945a5826'
         '575b51436cc2da2ee9c65c5f44256689'
         '169f8395eeaea8e71fb3313e91abc36d'
         '16a2e7ba4cf46ec84a6fb8bf84e8ef04'
         '7ddaab5ed05f8f5f84e0378f389cff80'
         '55173de0b2df08e31be1a18bbb63d820'
         'afa64cd7e274c1bf24122b6cb9835826'
         '7da55dfc6399a45fd4c969184586a63f'
         'f9d6ed62d8bf778830ccea75a6a33a1d'
         '37fc6a682444ee26915e741b3b5729a3'
         '33fe835d287cc6d451eed446efb07906'
         'a47f5f2a884c88a5fce97e84e95c72c5'
         'dd5a25a1a0c64e9e6c39f178cf4209d7'
         'a12493de67f66b5eb492856636d1bfb0'
         'f6f916a94a9d996895ddcc645d658ed0'
         '87358b0707c5febde3abb35824643c7b'
         '4c2ec2053a585d450adc8f0456e0b787'
         '23cf6d1f52d3d236b50989990780569d'
         '880b72cc1901edc044b9c7dd64794320'
         '21c9eaefd778b67cf9a17d7d739fb9d8'
         'b8f4d25c4d535a0339e9a50e5a4e83f4'
         '67a43e5b008519bb70812569bdbbed69'
         '600e1ddd4ed973030641f6f85c49459a'
         'eac5cfa33143873e2a352b6ab47cab16'
         'edd0522b27876956d67e9a9acd24ac2b'
         '6d17f0c610b993624199c4fbbd2d976f'
         '2c597584418f1cf86f0cf9a21e5cdad6'
         'e2c5e3df07287e950c0bb9d3bc2ffd91'
         '7c15372c68597acc6805d79d4c71c103'
         '88d9e99110aa6d36031ddff2f3555f43'
         '7e4d153876a5822705b8f12fd3ec11a2'
         'd8f5a9656105dd3ed4dd27b6d068e097'
         '634e8f378143a280cbade1bc7c09592b'
         '7bb0def0f696cf666c101efa34ddb901'
         '52a10bca6dfedaa84b325f35ac10f6da'
         'cbabef98982dd8026350d044bc8ce0ac'
         '2674139dbe4ab0793ef9d0a4b1617973'
         '5e006bb558669e1379b937cebbf2504a'
         '3aaa95c48c3420aabcd3110746923e4e'
         '999a8389915efa00aac6a8801f337d48'
         '75ac147e873f3210b8a29cc6a7e0dd9b'
         '41779f3fc16b37086c05766dd6b237d1'
         'f005274940eb199d2f0d7fb81f57232d'
         '8241ea3fdc70d8f117919b5b749c7540'
         '70b75940a276a4d20bc71a48bdd2fa9d'
         '40071ca9244945c1298bf9396a14f96e')
