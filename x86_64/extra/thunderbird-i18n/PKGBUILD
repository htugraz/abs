# $Id: PKGBUILD 221418 2014-09-10 22:50:29Z foutrelis $
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=31.1.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('e4424677de851fe5e07782fc8b9f98a9'
         '6a601826fdfe1fc5f83bda5f56e3399f'
         'bdcddcd607ae1212a326448eeed792c7'
         'ce1d198a80a28db5b3beedf0dae703c4'
         '8d0905c0fee84e58fe14f6f6c28b60e1'
         '937a1b715e12152b93699de38815d044'
         '580c431ec4377b2b6cd83110437588d4'
         '3f2a8f24ee5c7beb179ff302cf09bb52'
         'e5288f27c2aa6a02de1635edc8e1a424'
         '141646fc06486c672a35026b80f03fa7'
         '36adf56ab59bc88522eb334c9e41597d'
         'af23090239896e772e7fa025a10a1035'
         'e2d63d9e3d43ebc4b328b08cc953c872'
         'd47144dd012f14eff96073ae612510d6'
         '9c46becfbf413e31ff0be40e1cc6dfd2'
         '8c3a84b7db8a1c80b515438219a088a9'
         'c35d19c67603b8df88f738c8d50cd481'
         '2fee58f67f7baeb031313ff8afb1ae56'
         '419dcfba65759c49cd5cf350588fada1'
         'c027a6fbbe2f3249cf1e5456aa5d31d7'
         'bdd457f62b87de1a9b97de4f761cdddb'
         'd9f08e596dd16874d4ea2218b5aca25a'
         '40b04470f9bd2a8556d1e6bf05abc30f'
         '0dcc344d9bbc52c3314cc3855e22bc7b'
         'e85e82cb9080c9cd4b2d2729bd157c9b'
         'd6b09ef6aa4f3400d291979017a1ebdf'
         '90ed839c49c761ff1eb026e606f9946e'
         'b453d04bfaab07e35c453463e6a27267'
         'fcf06199af7132f3f50e6e18e09b6511'
         'e9d20655c81d87d1ed5ee097a4c2037b'
         '4d808625279c9a425f6ca7c997a5faef'
         'f8c93b3ee460ae029c4872d26e482b79'
         '95b25b72a8571ec64a605e789c79c91d'
         'f8a3a9420bef702ff454c97ecc14c7b7'
         'be479fa6031b98f268acef66082027dc'
         '3d0527d44bd1d7665536dcd4c5c23b98'
         '016f203eeca5d69f47d51d6ac3974e53'
         '7db6cd35892074c579045c7ae7323a84'
         '854280444a3c435f1f773a2e38861c51'
         'aa5e4308ad4a172adfa10a531a811b67'
         '760597ef7e65eabf4bdc2bbf109cfad8'
         '642ea132fea15398f166da74f5449844'
         '573b17df7fa1900f9f125e28014d4e17'
         '339c69af977824ce74201375f19d6210'
         '3a91c1525fef6ae80b60fe64fdc13db0'
         '1c2b8d033b7bd8ba456b26a3f0910488'
         'ee877f4e35d5f5957e2671331816d3f8'
         '30928ca12ee8ee17171fedb71cf80a11'
         '21f22516503f4725bbe94c35d947c405'
         'a6891ec6a20895abac6a0c22ba92a8bc'
         'e5b14ff8d88cbf5c9495cb1dedf8fc76'
         '389615128923ecb916cbdb9c076b02d0'
         '2b1fa21da12a13190bd723d6b33d5bae'
         '843c11a94cb39f4f8f32775361c9ba80'
         '510aca8719be756b0964de867f8cea8d')
