# $Id: PKGBUILD 112511 2014-06-02 23:59:54Z kkeen $
# Maintainer: Kyle Keen <keenerd@gmail.com>
pkgname=arch-wiki-lite
pkgver=20140321
_codever=20140321
pkgrel=1
pkgdesc="The wiki without html.  1/9 as big, easily searched and viewable on console."
arch=('any')
url="http://kmkeen.com/arch-wiki-lite/"
_watch="http://www.archlinux.org/packages/community/any/arch-wiki-docs/"
license=('GPL')
depends=('bash' 'gzip')
makedepends=('python' 'arch-wiki-docs')
optdepends=('arch-wiki-docs: for wiki-search-html')
source=("http://kmkeen.com/$pkgname/$pkgname-$_codever.tar.gz")
md5sums=('ff1d2fa517e6648f97a93d2d9b41348f')

build() {
  cd "$srcdir/$pkgname"
  python3 wiki_lite.py
}

package() {
  cd "$srcdir/$pkgname"
  install -d "$pkgdir/usr/share/doc/arch-wiki/text/"
  install -m 0644 wiki/* "$pkgdir/usr/share/doc/arch-wiki/text/"
  install -Dm 0755 wiki-search      "$pkgdir/usr/bin/wiki-search"
  install -Dm 0755 wiki-search-html "$pkgdir/usr/bin/wiki-search-html"
}

