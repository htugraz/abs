From 5e8fb6213394ee27ea0d5ff6337ef6efd3e9c667 Mon Sep 17 00:00:00 2001
From: Jens Hedegaard Nielsen <jens.nielsen@ucl.ac.uk>
Date: Sat, 15 Aug 2015 09:15:57 +0100
Subject: [PATCH] Make sure _edgecolors is a string before comparison

Fixes numpy deprecation warning. Comparing a numpy array to a string
will return an array in future numpy versions
---
 lib/matplotlib/collections.py | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/lib/matplotlib/collections.py b/lib/matplotlib/collections.py
index 6b87963..37393c6 100644
--- a/lib/matplotlib/collections.py
+++ b/lib/matplotlib/collections.py
@@ -617,7 +617,8 @@ def get_facecolor(self):
     get_facecolors = get_facecolor
 
     def get_edgecolor(self):
-        if self._edgecolors == str('face'):
+        if (isinstance(self._edgecolors, six.string_types)
+                   and self._edgecolors == str('face')):
             return self.get_facecolors()
         else:
             return self._edgecolors
@@ -678,7 +679,8 @@ def set_alpha(self, alpha):
         except (AttributeError, TypeError, IndexError):
             pass
         try:
-            if self._edgecolors_original != str('face'):
+            if (not isinstance(self._edgecolors_original, six.string_types)
+                             or self._edgecolors_original != str('face')):
                 self._edgecolors = mcolors.colorConverter.to_rgba_array(
                     self._edgecolors_original, self._alpha)
         except (AttributeError, TypeError, IndexError):
