# $Id: PKGBUILD 97219 2013-09-15 11:50:12Z fyan $
# Maintainer: Felix Yan <felixonmars@gmail.com>

_pkgbase=gevent
pkgname=python2-${_pkgbase}-beta
pkgver=1.0rc3
pkgrel=1
pkgdesc="Python networking library based on greenlet and libev - Beta version"
arch=('i686' 'x86_64')
url="http://www.gevent.org/"
license=('MIT')
depends=('python2-greenlet')
makedepends=('cython2')
conflicts=('python2-gevent')
provides=("python2-gevent=$pkgver")
source=("https://github.com/surfly/gevent/archive/$pkgver.tar.gz")

package() {
  cd "$srcdir/${_pkgbase}-${pkgver}"
  msg "Starting make..."
  
  LIBEV_EMBED=1 \
  CARES_EMBED=1 \
  CYTHON=cython2 \
  PYTHON=python2 \
  python2 setup.py install \
    --prefix=/usr \
    --root="$pkgdir"

  install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}

sha512sums=('b0c978a7d3690051175edb862ab5a3132ba31e58c6aaa12ea2715d16679650ec05b239c1fb776a410749dc60ff32f53882c2810789f4e89e1bcb76a7a32b1f48')
